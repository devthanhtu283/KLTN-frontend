{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/test.service\";\nimport * as i3 from \"src/app/services/question.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction TestComponent_div_3_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵelement(1, \"div\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r5 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"w-100\", i_r5 <= ctx_r2.now);\n  }\n}\nfunction TestComponent_div_3_section_16_div_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"input\", 23);\n    i0.ɵɵlistener(\"ngModelChange\", function TestComponent_div_3_section_16_div_4_div_1_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r14.selectedOptions[ctx_r14.now + 1] = $event);\n    })(\"click\", function TestComponent_div_3_section_16_div_4_div_1_Template_input_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const option_r13 = restoredCtx.$implicit;\n      const ctx_r16 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r16.onOptionSelected(ctx_r16.now + 1, option_r13.content));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const option_r13 = ctx.$implicit;\n    const ctx_r12 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", \"op\" + ctx_r12.getCurrentStep().id)(\"value\", option_r13.content)(\"ngModel\", ctx_r12.selectedOptions[ctx_r12.now + 1]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(option_r13.content);\n  }\n}\nfunction TestComponent_div_3_section_16_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, TestComponent_div_3_section_16_div_4_div_1_Template, 4, 4, \"div\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r6.getCurrentStep().answers);\n  }\n}\nfunction TestComponent_div_3_section_16_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"textarea\", 24);\n    i0.ɵɵlistener(\"ngModelChange\", function TestComponent_div_3_section_16_div_5_Template_textarea_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r17.textAnswers[ctx_r17.now + 1] = $event);\n    })(\"input\", function TestComponent_div_3_section_16_div_5_Template_textarea_input_1_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r19 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r19.onTextAnswerChange(ctx_r19.now + 1, $event.target.value));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.textAnswers[ctx_r7.now + 1]);\n  }\n}\nfunction TestComponent_div_3_section_16_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function TestComponent_div_3_section_16_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r20.prevStep());\n    });\n    i0.ɵɵtext(1, \" C\\u00E2u tr\\u01B0\\u1EDBc \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TestComponent_div_3_section_16_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function TestComponent_div_3_section_16_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r22.nextStep());\n    });\n    i0.ɵɵtext(1, \" C\\u00E2u sau \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TestComponent_div_3_section_16_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function TestComponent_div_3_section_16_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r24.calculateScore());\n    });\n    i0.ɵɵtext(1, \" Ho\\u00E0n th\\u00E0nh \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TestComponent_div_3_section_16_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r11.errorMsg, \" \");\n  }\n}\nfunction TestComponent_div_3_section_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\")(1, \"h2\", 16);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 17);\n    i0.ɵɵtemplate(4, TestComponent_div_3_section_16_div_4_Template, 2, 1, \"div\", 1);\n    i0.ɵɵtemplate(5, TestComponent_div_3_section_16_div_5_Template, 2, 1, \"div\", 1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 18);\n    i0.ɵɵtemplate(7, TestComponent_div_3_section_16_button_7_Template, 2, 0, \"button\", 19);\n    i0.ɵɵtemplate(8, TestComponent_div_3_section_16_button_8_Template, 2, 0, \"button\", 19);\n    i0.ɵɵtemplate(9, TestComponent_div_3_section_16_button_9_Template, 2, 0, \"button\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, TestComponent_div_3_section_16_div_10_Template, 2, 1, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.getCurrentStep().content);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.getCurrentStep().questionType === \"choiceAnswer\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.getCurrentStep().questionType === \"textAnswer\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.now > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.now < ctx_r3.totalSteps - 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.now === ctx_r3.totalSteps - 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.errorMsg);\n  }\n}\nfunction TestComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 2)(2, \"div\", 3);\n    i0.ɵɵtext(3, \" C\\u00E2u h\\u1ECFi \");\n    i0.ɵɵelementStart(4, \"span\", 4);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 5)(8, \"div\", 6)(9, \"div\", 7)(10, \"div\", 8);\n    i0.ɵɵelement(11, \"img\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 10);\n    i0.ɵɵtemplate(13, TestComponent_div_3_div_13_Template, 2, 2, \"div\", 11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 12)(15, \"div\", 13);\n    i0.ɵɵtemplate(16, TestComponent_div_3_section_16_Template, 11, 7, \"section\", 1);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.now + 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"/\", ctx_r0.totalSteps, \" \");\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.steps);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.now < ctx_r0.steps.length);\n  }\n}\nfunction TestComponent_div_4_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40);\n    i0.ɵɵtext(1, \"You Passed!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TestComponent_div_4_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41);\n    i0.ɵɵtext(1, \"You did not Pass\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TestComponent_div_4_div_23_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementStart(5, \"strong\");\n    i0.ɵɵtext(6, \"Your Answer:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r32 = i0.ɵɵnextContext();\n    const i_r30 = ctx_r32.index;\n    const step_r29 = ctx_r32.$implicit;\n    const ctx_r31 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Question \", i_r30 + 1, \":\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", step_r29.content, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r31.textAnswers[i_r30 + 1], \" \");\n  }\n}\nfunction TestComponent_div_4_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42);\n    i0.ɵɵtemplate(1, TestComponent_div_4_div_23_div_1_Template, 8, 3, \"div\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const step_r29 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", step_r29.questionType === \"textAnswer\");\n  }\n}\nfunction TestComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 27)(2, \"h2\", 28);\n    i0.ɵɵtext(3, \"Knowledge Check\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 29)(5, \"div\", 30);\n    i0.ɵɵtext(6, \"Your Score:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 31);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"span\", 32);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 33)(12, \"div\", 34);\n    i0.ɵɵtext(13, \"Passing Score:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 35);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 36)(17, \"h2\");\n    i0.ɵɵtext(18, \"Result\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(19, TestComponent_div_4_div_19_Template, 2, 0, \"div\", 37);\n    i0.ɵɵtemplate(20, TestComponent_div_4_div_20_Template, 2, 0, \"div\", 38);\n    i0.ɵɵelementStart(21, \"h3\");\n    i0.ɵɵtext(22, \"Your Answers\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(23, TestComponent_div_4_div_23_Template, 2, 1, \"div\", 39);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r1.userScore, \" / \", ctx_r1.maxScore, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.userScore, \" Points\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.userScore / ctx_r1.maxScore * 100, \"%\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isPassed());\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.isPassed());\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.steps);\n  }\n}\nclass TestComponent {\n  constructor(route, testService, questionService) {\n    this.route = route;\n    this.testService = testService;\n    this.questionService = questionService;\n    this.now = 0;\n    this.selectedOptions = {};\n    this.textAnswers = {};\n    this.errorMsg = '';\n    this.showResultPage = false;\n    this.userScore = 0;\n    this.maxScore = 0;\n    this.passingScore = 80;\n    this.steps = [];\n  }\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      this.code = params.get('code');\n    });\n    this.testService.findTestByCode(this.code).then(res => {\n      console.log(res);\n      this.title = res.data.title;\n      this.questionService.findByTestID(res.data.id).then(result => {\n        this.steps = result;\n        console.log(result);\n        this.totalSteps = this.steps.length;\n        this.maxScore = this.steps.filter(step => step.questionType === 'choiceAnswer').length * 20;\n        console.log(this.maxScore);\n      });\n    });\n  }\n  getCurrentStep() {\n    return this.steps[this.now];\n  }\n  validate(stepId) {\n    const currentStep = this.steps[stepId - 1];\n    if (currentStep.questionType === 'choiceAnswer' && !this.selectedOptions[stepId]) {\n      this.errorMsg = 'Hãy chọn đáp án';\n      return false;\n    } else if (currentStep.questionType === 'textAnswer' && !this.textAnswers[stepId]) {\n      this.errorMsg = 'Hãy điền câu trả lời!';\n      return false;\n    }\n    this.errorMsg = '';\n    return true;\n  }\n  nextStep() {\n    if (this.validate(this.now + 1)) {\n      this.now = this.now + 1;\n    }\n    if (this.now === this.totalSteps) {\n      this.calculateScore();\n    }\n  }\n  prevStep() {\n    if (this.now > 0) {\n      this.now = this.now - 1;\n    }\n  }\n  calculateScore() {\n    this.userScore = 0;\n    var i = 0;\n    console.log(this.steps);\n    this.steps.forEach(step => {\n      i++;\n      if (step.questionType === 'choiceAnswer') {\n        console.log(this.selectedOptions[i]);\n        const selectedAnswer = this.selectedOptions[i];\n        const correctAnswer = step.answers.find(answer => answer.correct);\n        console.log(selectedAnswer);\n        console.log(correctAnswer);\n        if (selectedAnswer === correctAnswer?.content) {\n          this.userScore += 20;\n        }\n      }\n    });\n    this.showResultPage = true;\n  }\n  onOptionSelected(stepId, option) {\n    this.selectedOptions[stepId] = option;\n    console.log(this.selectedOptions[stepId]);\n  }\n  onTextAnswerChange(stepId, answer) {\n    this.textAnswers[stepId] = answer;\n    console.log(this.textAnswers);\n  }\n  isPassed() {\n    return this.userScore / this.maxScore * 100 >= this.passingScore;\n  }\n  static {\n    this.ɵfac = function TestComponent_Factory(t) {\n      return new (t || TestComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.TestService), i0.ɵɵdirectiveInject(i3.QuestionService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: TestComponent,\n      selectors: [[\"ng-component\"]],\n      decls: 5,\n      vars: 3,\n      consts: [[1, \"overflow-hidden\"], [4, \"ngIf\"], [1, \"step-number\"], [1, \"step-number-inner\"], [\"id\", \"activeStep\"], [1, \"container\"], [1, \"row\"], [1, \"tab-100\", \"order-c\", \"col-md-5\", \"p-relative\"], [1, \"side-img\"], [\"src\", \"assets/images/2 - Copy.png\", \"height\", \"400\", \"alt\", \"side-img\"], [1, \"step-bar\"], [\"class\", \"bar\", 4, \"ngFor\", \"ngForOf\"], [1, \"tab-100\", \"col-md-7\"], [1, \"show-section\", \"wrapper\"], [1, \"bar\"], [1, \"fill\"], [1, \"q-heading\"], [1, \"form-inner\"], [1, \"next-prev\"], [3, \"click\", 4, \"ngIf\"], [\"id\", \"error\", \"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"bounce-left radio-field\", 4, \"ngFor\", \"ngForOf\"], [1, \"bounce-left\", \"radio-field\"], [\"type\", \"radio\", 1, \"checkmark\", 3, \"name\", \"value\", \"ngModel\", \"ngModelChange\", \"click\"], [\"placeholder\", \"Enter your answer here...\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [3, \"click\"], [\"id\", \"error\", 1, \"alert\", \"alert-danger\"], [1, \"result_inner\"], [1, \"result_title\"], [1, \"u_result\"], [1, \"u_score\"], [1, \"u_prcnt\"], [1, \"u_points\"], [1, \"p_result\"], [1, \"p_score\"], [1, \"p_prcnt\"], [1, \"result_show\"], [\"class\", \"pass_check\", \"class\", \"text-success\", 4, \"ngIf\"], [\"class\", \"pass_check\", 4, \"ngIf\"], [\"class\", \"text-answer\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-success\"], [1, \"pass_check\"], [1, \"text-answer\"]],\n      template: function TestComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h1\");\n          i0.ɵɵtext(1);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"main\", 0);\n          i0.ɵɵtemplate(3, TestComponent_div_3_Template, 17, 4, \"div\", 1);\n          i0.ɵɵtemplate(4, TestComponent_div_4_Template, 24, 7, \"div\", 1);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵtextInterpolate1(\"B\\u00E0i thi \", ctx.title, \"\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", !ctx.showResultPage);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.showResultPage);\n        }\n      },\n      dependencies: [i4.NgForOf, i4.NgIf, i5.DefaultValueAccessor, i5.RadioControlValueAccessor, i5.NgControlStatus, i5.NgModel],\n      encapsulation: 2\n    });\n  }\n}\nexport { TestComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵclassProp","i_r5","ctx_r2","now","ɵɵlistener","TestComponent_div_3_section_16_div_4_div_1_Template_input_ngModelChange_1_listener","$event","ɵɵrestoreView","_r15","ctx_r14","ɵɵnextContext","ɵɵresetView","selectedOptions","TestComponent_div_3_section_16_div_4_div_1_Template_input_click_1_listener","restoredCtx","option_r13","$implicit","ctx_r16","onOptionSelected","content","ɵɵtext","ɵɵproperty","ctx_r12","getCurrentStep","id","ɵɵtextInterpolate","ɵɵtemplate","TestComponent_div_3_section_16_div_4_div_1_Template","ctx_r6","answers","TestComponent_div_3_section_16_div_5_Template_textarea_ngModelChange_1_listener","_r18","ctx_r17","textAnswers","TestComponent_div_3_section_16_div_5_Template_textarea_input_1_listener","ctx_r19","onTextAnswerChange","target","value","ctx_r7","TestComponent_div_3_section_16_button_7_Template_button_click_0_listener","_r21","ctx_r20","prevStep","TestComponent_div_3_section_16_button_8_Template_button_click_0_listener","_r23","ctx_r22","nextStep","TestComponent_div_3_section_16_button_9_Template_button_click_0_listener","_r25","ctx_r24","calculateScore","ɵɵtextInterpolate1","ctx_r11","errorMsg","TestComponent_div_3_section_16_div_4_Template","TestComponent_div_3_section_16_div_5_Template","TestComponent_div_3_section_16_button_7_Template","TestComponent_div_3_section_16_button_8_Template","TestComponent_div_3_section_16_button_9_Template","TestComponent_div_3_section_16_div_10_Template","ctx_r3","questionType","totalSteps","TestComponent_div_3_div_13_Template","TestComponent_div_3_section_16_Template","ctx_r0","steps","length","i_r30","step_r29","ctx_r31","TestComponent_div_4_div_23_div_1_Template","TestComponent_div_4_div_19_Template","TestComponent_div_4_div_20_Template","TestComponent_div_4_div_23_Template","ɵɵtextInterpolate2","ctx_r1","userScore","maxScore","isPassed","TestComponent","constructor","route","testService","questionService","showResultPage","passingScore","ngOnInit","paramMap","subscribe","params","code","get","findTestByCode","then","res","console","log","title","data","findByTestID","result","filter","step","validate","stepId","currentStep","i","forEach","selectedAnswer","correctAnswer","find","answer","correct","option","ɵɵdirectiveInject","i1","ActivatedRoute","i2","TestService","i3","QuestionService","selectors","decls","vars","consts","template","TestComponent_Template","rf","ctx","TestComponent_div_3_Template","TestComponent_div_4_Template"],"sources":["D:\\kltn\\src\\KLTN-frontend\\quiz\\src\\app\\components\\test\\test.component.ts","D:\\kltn\\src\\KLTN-frontend\\quiz\\src\\app\\components\\test\\test.component.html"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute } from \"@angular/router\";\r\nimport { Test } from \"src/app/models/test.model\";\r\nimport { QuestionService } from \"src/app/services/question.service\";\r\nimport { TestService } from \"src/app/services/test.service\";\r\n@Component({\r\n    templateUrl: \"./test.component.html\"\r\n})\r\nexport class TestComponent implements OnInit{\r\n  \r\n   \r\n    now: number = 0; \r\n    totalSteps: number;\r\n    selectedOptions: any = {}; \r\n    textAnswers: any = {}; \r\n    errorMsg: string = '';\r\n    showResultPage: boolean = false;\r\n    userScore: number = 0; \r\n    maxScore: number = 0; \r\n    passingScore: number = 80; \r\n    code: string;\r\n    test: Test;\r\n    title: string;\r\n\r\n    steps = [];\r\n  \r\n    constructor(\r\n        private route: ActivatedRoute,\r\n        private testService: TestService,\r\n        private questionService: QuestionService\r\n    ) {\r\n     \r\n    \r\n    }\r\n    ngOnInit(): void {\r\n        this.route.paramMap.subscribe(params => {\r\n            this.code = params.get('code'); \r\n          });\r\n        \r\n        this.testService.findTestByCode(this.code).then(\r\n            res => {\r\n              console.log(res);\r\n                this.title = res.data.title;\r\n                this.questionService.findByTestID(res.data.id).then(\r\n                  result => {\r\n                      this.steps = result;\r\n                      console.log(result);\r\n                      this.totalSteps = this.steps.length;\r\n                      this.maxScore = this.steps.filter(step => step.questionType === 'choiceAnswer').length * 20;\r\n                      console.log(this.maxScore);\r\n                  }\r\n              );\r\n                \r\n            }\r\n        );\r\n       \r\n        \r\n    }\r\n\r\n    getCurrentStep() {\r\n      return this.steps[this.now];\r\n    }\r\n  \r\n\r\n    validate(stepId: number): boolean {\r\n      const currentStep = this.steps[stepId - 1];\r\n      if (currentStep.questionType === 'choiceAnswer' && !this.selectedOptions[stepId]) {\r\n        this.errorMsg = 'Hãy chọn đáp án';\r\n        return false;\r\n      } else if (currentStep.questionType === 'textAnswer' && !this.textAnswers[stepId]) {\r\n        this.errorMsg = 'Hãy điền câu trả lời!';\r\n        return false;\r\n      }\r\n      this.errorMsg = '';\r\n      return true;\r\n    }\r\n  \r\n\r\n    nextStep() {\r\n      if (this.validate(this.now + 1)) {\r\n        this.now = this.now + 1;\r\n      }\r\n      if (this.now === this.totalSteps) {\r\n        this.calculateScore();\r\n      }\r\n    }\r\n\r\n    prevStep() {\r\n      if (this.now > 0) {\r\n        this.now = this.now - 1;\r\n      }\r\n    }\r\n  \r\n\r\n    calculateScore() {\r\n      this.userScore = 0;\r\n      var i = 0;\r\n      console.log(this.steps);\r\n      this.steps.forEach((step) => {\r\n        i++;\r\n        if (step.questionType === 'choiceAnswer') {\r\n          console.log(this.selectedOptions[i]);\r\n          const selectedAnswer = this.selectedOptions[i];\r\n          const correctAnswer = step.answers.find(answer => answer.correct);\r\n          console.log(selectedAnswer);\r\n          console.log(correctAnswer);\r\n          if (selectedAnswer === correctAnswer?.content) {\r\n            this.userScore += 20; \r\n          }\r\n        }\r\n      });\r\n      this.showResultPage = true;\r\n    }\r\n  \r\n\r\n    onOptionSelected(stepId: number, option: string) {\r\n      this.selectedOptions[stepId] = option;\r\n      console.log(this.selectedOptions[stepId]);\r\n    }\r\n  \r\n\r\n    onTextAnswerChange(stepId: number, answer: string) {\r\n      this.textAnswers[stepId] = answer;\r\n      console.log(this.textAnswers);\r\n    }\r\n  \r\n\r\n    isPassed() {\r\n      return (this.userScore/this.maxScore * 100) >= this.passingScore;\r\n    }\r\n}","<h1>Bài thi {{ title }}</h1>\r\n<main class=\"overflow-hidden\">\r\n  <div *ngIf=\"!showResultPage\">\r\n    <div class=\"step-number\">\r\n      <div class=\"step-number-inner\">\r\n        Câu hỏi <span id=\"activeStep\">{{ now + 1 }}</span\r\n        >/{{ totalSteps }}\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n        <div class=\"tab-100 order-c col-md-5 p-relative\">\r\n          <div class=\"side-img\">\r\n            <img src=\"assets/images/2 - Copy.png\" height=\"400\" alt=\"side-img\" />\r\n          </div>\r\n\r\n      \r\n          <div class=\"step-bar\">\r\n            <div *ngFor=\"let step of steps; let i = index\" class=\"bar\">\r\n              <div [class.w-100]=\"i <= now\" class=\"fill\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"tab-100 col-md-7\">\r\n          <div class=\"show-section wrapper\">\r\n            <section *ngIf=\"now < steps.length\">\r\n              <h2 class=\"q-heading\">{{ getCurrentStep().content }}</h2>\r\n\r\n              <div class=\"form-inner\">\r\n           \r\n                <div *ngIf=\"getCurrentStep().questionType === 'choiceAnswer'\">\r\n                  <div\r\n                    *ngFor=\"let option of getCurrentStep().answers\"\r\n                    class=\"bounce-left radio-field\"\r\n                  >\r\n                    <input\r\n                      class=\"checkmark\"\r\n                      type=\"radio\"\r\n                      [name]=\"'op' + getCurrentStep().id\"\r\n                      [value]=\"option.content\"\r\n                      [(ngModel)]=\"selectedOptions[now + 1]\"\r\n                      (click)=\"onOptionSelected(now + 1, option.content)\"\r\n                    />\r\n                    <label>{{ option.content }}</label>\r\n                  </div>\r\n                </div>\r\n\r\n\r\n                <div *ngIf=\"getCurrentStep().questionType === 'textAnswer'\">\r\n                  <textarea\r\n                    class=\"form-control\"\r\n                    [(ngModel)]=\"textAnswers[now + 1]\"\r\n                    (input)=\"\r\n                      onTextAnswerChange(now + 1, $any($event.target).value)\r\n                    \"\r\n                    placeholder=\"Enter your answer here...\"\r\n                  ></textarea>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"next-prev\">\r\n                <button *ngIf=\"now > 0\" (click)=\"prevStep()\">\r\n                  Câu trước\r\n                </button>\r\n                <button *ngIf=\"now < totalSteps - 1\" (click)=\"nextStep()\">\r\n                  Câu sau\r\n                </button>\r\n                <button\r\n                  *ngIf=\"now === totalSteps - 1\"\r\n                  (click)=\"calculateScore()\"\r\n                >\r\n                  Hoàn thành\r\n                </button>\r\n              </div>\r\n\r\n              <div id=\"error\" *ngIf=\"errorMsg\" class=\"alert alert-danger\">\r\n                {{ errorMsg }}\r\n              </div>\r\n            </section>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div *ngIf=\"showResultPage\" >\r\n    <div class=\"result_inner\">\r\n      <h2 class=\"result_title\">Knowledge Check</h2>\r\n    <div class=\"u_result\">\r\n        <div class=\"u_score\">Your Score:</div>\r\n        <div class=\"u_prcnt\">{{ userScore }} / {{ maxScore }}</div>\r\n        <span class=\"u_points\">{{ userScore }} Points</span>\r\n    </div>\r\n    <div class=\"p_result\">\r\n        <div class=\"p_score\">Passing Score:</div>\r\n        <div class=\"p_prcnt\">{{ userScore / maxScore * 100}}%</div>\r\n       \r\n    </div>\r\n\r\n      <div class=\"result_show\">\r\n        <h2>Result</h2>\r\n        <div class=\"pass_check\" class=\"text-success\" *ngIf=\"isPassed()\">You Passed!</div>\r\n        <div class=\"pass_check\" *ngIf=\"!isPassed()\">You did not Pass</div>\r\n     \r\n        <h3>Your Answers</h3>\r\n        <div *ngFor=\"let step of steps; let i = index\" class=\"text-answer\">\r\n          <div *ngIf=\"step.questionType === 'textAnswer'\">\r\n            <strong>Question {{ i + 1 }}:</strong> {{ step.content }}<br />\r\n            <strong>Your Answer:</strong> {{ textAnswers[i + 1] }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</main>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}